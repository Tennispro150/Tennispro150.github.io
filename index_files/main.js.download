$(document).ready(function(){$('#search-button-hdr').on('click',function(e){if($('#search-input-container').hasClass('hidden')){e.preventDefault();$('#search-input-container').removeClass('hidden');$('#nav-search-form-desktop').addClass('form-expanded');}});$('#hide-search-input-container').on('click',function(e){e.preventDefault();$('#search-input-container').addClass('hidden');$('#nav-search-form-desktop').removeClass('form-expanded');});$('#mobile-search-button').on('click',function(e){e.preventDefault();$('#mobile-search-block').fadeIn();});$('#search-modal-close').on('click',function(e){e.preventDefault();$('#mobile-search-block').fadeOut();});var assets_root="/interative-constitution-2019"
$('#primarynav-toggle').on('click',function(e){var iconFile=$(this).find('img').attr('src');if(iconFile==assets_root+'/assets/img/icons-ux/navigation-menu-icon.svg'){$(this).find('img').attr('src',assets_root+'/assets/img/icons-ux/navigation-close-icon.svg');}else{$(this).find('img').attr('src',assets_root+'/assets/img/icons-ux/navigation-menu-icon.svg');}});$('[data-toggle="tooltip"]').tooltip();});var prevScrollpos=window.pageYOffset;window.onscroll=function(){var currentScrollPos=window.pageYOffset;if(prevScrollpos>currentScrollPos){document.getElementById("primarynav").style.top="0";document.getElementById("primarynav").style.boxShadow="0";}else{if(currentScrollPos>0){document.getElementById("primarynav").style.top="-120px";document.getElementById("primarynav").style.boxShadow="0rem 1rem 1rem rgba(34, 45, 102, 0.15)";}}
prevScrollpos=currentScrollPos;}
$(document).ready(function(){$('[data-load]').each(function(i,itm){$(this).load($(this).attr('data-load'));});$(document).on('hide.bs.collapse','.collapse',function(e){if($(this).is(e.target)){$(this).parent().find('.fas').first().removeClass('fa-flip-vertical');}});$(document).on('show.bs.collapse','.collapse',function(e){if($(this).is(e.target)){$(this).parent().find('.fas').first().addClass('fa-flip-vertical');}});$(document).on('click','[data-href]',function(e){e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();window.location.href=$(this).attr('data-href');return false;});$(document).on('click','[data-url]',function(e){e.preventDefault();window.location.href=$(this).attr('data-url');return false;});$(document).on('keyup','#embed-width,#embed-height',updateEmbed);function updateEmbed(){var options="";var width=$('#embed-width').val();var height=$('#embed-height').val();if(width){options+='width="'+width+'" ';}
if(height){options+='height="'+height+'" ';}
var $val=$('#embed-url').val();var $obj=$($val);var $src=$obj.attr('src');$('#embed-url').val('<iframe '+options+' src="'+$src+'"></iframe>');}
(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))
return;js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/en_US/all.js";fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'));window.fbAsyncInit=function(){FB.init({appId:'287381481370755',status:true,xfbml:true,cookie:true});};var $shrt='https://'+$('#short-url').val().replace('https://','').replace('http://','');var $url=$('meta[property="og:url"]').attr('content');var $title=$('meta[property="og:title"]').attr('content');var $summary=$('meta[property="og:description"]').attr('content');$(document).on('click','.fb-share',function(e){e.preventDefault();FB.ui({method:'feed',name:$title,link:$shrt,picture:'https://share.constitutioncenter.org/assets/img/ic-fb-logo.png',description:$summary});});$(document).on('click','.twitter-share',function(e){e.preventDefault();var details={"url":$shrt,"text":$title,"hashtags":"ncc"};PopupCenter("https://twitter.com/share?url="+details.url+"&amp;text="+details.text+" &amp;hashtags="+details.hashtags,"Tweet",550,300);});$(document).on('click','#embed-preview',function(e){var $width=parseInt($('#embed-width').val())+50;var $height=parseInt($('#embed-height').val())+50;var $params="width="+$width+",height="+$height;var $myWindow=window.open("","MsgWindow",$params);$myWindow.document.write($('#embed-url').val());});function PopupCenter(url,title,w,h){var dualScreenLeft=window.screenLeft!=undefined?window.screenLeft:screen.left;var dualScreenTop=window.screenTop!=undefined?window.screenTop:screen.top;var width=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var height=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var left=((width/2)-(w/2))+dualScreenLeft;var top=((height/2)-(h/2))+dualScreenTop;var newWindow=window.open(url,title,'scrollbars=yes, width='+w+', height='+h+', top='+top+', left='+left);if(window.focus){newWindow.focus();}}});